/* استيراد خط تجوال من Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap');

/* استيراد Font Awesome للأيقونات */
@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --primary-gray: #f5f5f5;
  --secondary-gray: #e8e8e8;
  --tertiary-gray: #d0d0d0;
  --dark-gray: #808080;
  --text-dark: #333333;
  --text-light: #666666;
  --accent-gray: #a9a9a9;
  --border-color: #d9d9d9;
  --primary-color: #2c3e50;
  --accent-color: #3498db;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Tajawal', sans-serif;
  background-color: var(--primary-gray);
  color: var(--text-dark);
  font-size: 13px;
  line-height: 1.6;
  direction: rtl;
}

/* الحاوية الرئيسية - 90% من الصفحة */
.container {
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

/* الرأس */
header {
  background-color: #ffffff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  padding: 15px 0;
  margin-bottom: 30px;
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 100;
}

header .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
}

.logo {
  font-size: 16px;
  font-weight: 700;
  color: var(--primary-color);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 10px;
}

.logo i {
  font-size: 20px;
  color: var(--accent-color);
}

nav {
  display: flex;
  gap: 30px;
  list-style: none;
  flex: 1;
  justify-content: center;
}

nav a {
  color: var(--text-light);
  text-decoration: none;
  font-size: 13px;
  font-weight: 500;
  transition: color 0.3s ease;
  padding: 8px 12px;
  border-radius: 4px;
}

nav a:hover {
  color: var(--dark-gray);
  background-color: var(--secondary-gray);
}

nav a.active {
  color: var(--text-dark);
  background-color: var(--secondary-gray);
  font-weight: 600;
}

.header-actions {
  display: flex;
  gap: 15px;
  align-items: center;
}

.header-actions a, .header-actions button {
  background: none;
  border: none;
  color: var(--text-light);
  cursor: pointer;
  font-size: 18px;
  transition: color 0.3s ease;
  padding: 8px 12px;
  border-radius: 4px;
}

.header-actions a:hover, .header-actions button:hover {
  color: var(--accent-color);
  background-color: var(--secondary-gray);
}

/* المحتوى الرئيسي */
main {
  min-height: calc(100vh - 200px);
  margin-bottom: 40px;
}

/* الأقسام */
section {
  margin-bottom: 30px;
}

.section-title {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-dark);
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 2px solid var(--secondary-gray);
}

/* الشبكة - لعرض الأيقونات والبطاقات */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
}

.grid-item {
  background-color: #ffffff;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  text-decoration: none;
  color: var(--text-dark);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.grid-item:hover {
  background-color: var(--secondary-gray);
  border-color: var(--tertiary-gray);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transform: translateY(-2px);
}

.grid-item-icon {
  font-size: 32px;
  color: var(--accent-color);
}

.grid-item-label {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-dark);
}

/* الأزرار */
button, .btn {
  background-color: var(--secondary-gray);
  color: var(--text-dark);
  border: 1px solid var(--tertiary-gray);
  padding: 10px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  font-family: 'Tajawal', sans-serif;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
}

button:hover, .btn:hover {
  background-color: var(--tertiary-gray);
  color: var(--text-dark);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

button:active, .btn:active {
  background-color: var(--accent-gray);
  color: #ffffff;
}

button.primary, .btn.primary {
  background-color: var(--dark-gray);
  color: #ffffff;
  border-color: var(--dark-gray);
}

button.primary:hover, .btn.primary:hover {
  background-color: var(--accent-gray);
  border-color: var(--accent-gray);
}

button.sm {
  padding: 6px 12px;
  font-size: 12px;
}

button.icon-only {
  padding: 8px;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* الجداول */
table {
  width: 100%;
  border-collapse: collapse;
  background-color: #ffffff;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  overflow: hidden;
  margin-top: 15px;
}

thead {
  background-color: var(--secondary-gray);
  border-bottom: 2px solid var(--tertiary-gray);
}

th {
  padding: 12px;
  text-align: right;
  font-weight: 600;
  color: var(--text-dark);
  font-size: 12px;
}

td {
  padding: 12px;
  border-bottom: 1px solid var(--border-color);
  font-size: 12px;
  color: var(--text-light);
}

tbody tr:hover {
  background-color: var(--primary-gray);
}

tbody tr:last-child td {
  border-bottom: none;
}

/* النماذج */
.form-group {
  margin-bottom: 15px;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: 500;
  color: var(--text-dark);
  font-size: 12px;
}

input, textarea, select {
  width: 100%;
  padding: 10px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  font-family: 'Tajawal', sans-serif;
  font-size: 13px;
  background-color: #ffffff;
  color: var(--text-dark);
  transition: border-color 0.3s ease;
}

input:focus, textarea:focus, select:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
}

input::placeholder, textarea::placeholder {
  color: var(--accent-gray);
}
/* تنسيق خاص لحقول الهاتف لضمان أن النص والعنصر النائب يظهران من اليمين لليسار في واجهة RTL */
input[type="tel"] {
  direction: rtl;
  text-align: right; 
}
/* النوافذ المنبثقة (Modal) */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  animation: fadeIn 0.3s ease;
}

.modal.show {
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background-color: #ffffff;
  padding: 30px;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  max-width: 500px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  animation: slideUp 0.3s ease;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border-color);
}

.modal-title {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-dark);
}

.modal-close {
  background: none;
  border: none;
  font-size: 24px;
  color: var(--text-light);
  cursor: pointer;
  padding: 0;
  width: auto;
  height: auto;
}

.modal-close:hover {
  color: var(--text-dark);
}

.modal-body {
  margin-bottom: 20px;
}

.modal-footer {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  padding-top: 15px;
  border-top: 1px solid var(--border-color);
}

@keyframes slideUp {
  from {
    transform: translateY(50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
/* تنسيق العنصر النائب في حقول الـ select */
select:required:invalid {
  color: var(--accent-gray);
}
/* لتغيير لون النص إذا كان الخيار الأول هو الذي يظهر */
select option:disabled {
  color: var(--accent-gray); 
}
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* القوائم المنسدلة */
.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #ffffff;
  min-width: 200px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  z-index: 1;
  right: 0;
  top: 100%;
  margin-top: 5px;
}

.dropdown-content.show {
  display: block;
}

.dropdown-content a, .dropdown-content button {
  color: var(--text-dark);
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  width: 100%;
  text-align: right;
  border: none;
  background: none;
  cursor: pointer;
  font-size: 13px;
  transition: background-color 0.2s ease;
  font-family: 'Tajawal', sans-serif;
}

.dropdown-content a:hover, .dropdown-content button:hover {
  background-color: var(--secondary-gray);
}

.dropdown-content a:first-child {
  border-radius: 6px 6px 0 0;
}

.dropdown-content a:last-child {
  border-radius: 0 0 6px 6px;
}

/* القوائم المنسدلة للأعضاء */
.member-dropdown {
  background-color: #ffffff;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  margin-bottom: 15px;
  overflow: hidden;
}

.member-dropdown-header {
  padding: 15px;
  background-color: var(--secondary-gray);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background-color 0.2s ease;
}

.member-dropdown-header:hover {
  background-color: var(--tertiary-gray);
}

.member-dropdown-header i {
  transition: transform 0.3s ease;
}

.member-dropdown-header.active i {
  transform: rotate(180deg);
}

.member-dropdown-body {
  display: none;
  padding: 15px;
  background-color: #ffffff;
}

.member-dropdown-body.show {
  display: block;
}

.member-info {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-bottom: 15px;
}

.member-info-item {
  padding: 10px;
  background-color: var(--primary-gray);
  border-radius: 4px;
}

.member-info-label {
  font-size: 11px;
  color: var(--text-light);
  font-weight: 600;
  margin-bottom: 5px;
}

.member-info-value {
  font-size: 13px;
  color: var(--text-dark);
  font-weight: 500;
}

.payment-status {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
}

.payment-status.completed {
  background-color: #d4edda;
  color: #155724;
}

.payment-status.delayed {
  background-color: #fff3cd;
  color: #856404;
}

.payment-status.unpaid {
  background-color: #f8d7da;
  color: #721c24;
}

/* البطاقات */
.card {
  background-color: #ffffff;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  transition: all 0.3s ease;
}

.card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--secondary-gray);
}

.card-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
}

.card-content {
  font-size: 13px;
  color: var(--text-light);
  line-height: 1.8;
}

/* الرسائل والتنبيهات */
.alert {
  padding: 12px 16px;
  border-radius: 6px;
  margin-bottom: 15px;
  font-size: 12px;
  border-left: 4px solid;
  display: flex;
  align-items: center;
  gap: 10px;
}

.alert.success {
  background-color: #d4edda;
  color: #155724;
  border-color: #4caf50;
}

.alert.error {
  background-color: #f8d7da;
  color: #721c24;
  border-color: #f44336;
}

.alert.info {
  background-color: #d1ecf1;
  color: #0c5460;
  border-color: #2196f3;
}

.alert i {
  font-size: 16px;
}

/* التذييل */
footer {
  background-color: #ffffff;
  border-top: 1px solid var(--border-color);
  padding: 20px 0;
  margin-top: 40px;
  text-align: center;
  color: var(--text-light);
  font-size: 12px;
}

/* التنقل بين الصفحات */
.page {
  display: none;
}

.page.active {
  display: block;
  animation: fadeIn 0.3s ease;
}

/* الأيقونات */
.icon {
  display: inline-block;
  width: 24px;
  height: 24px;
  margin-left: 5px;
}

/* الحالات الخاصة */
.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

.mt-20 {
  margin-top: 20px;
}

.mb-20 {
  margin-bottom: 20px;
}

.p-20 {
  padding: 20px;
}

.flex {
  display: flex;
  gap: 10px;
}

.flex-between {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}

.flex-wrap {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

/* تجميع خانات الاختيار في شبكة */
.checkbox-group {
  display: grid; /* تحويل إلى شبكة */
  /* عرض 3 أعمدة كحد أقصى، كل عمود بحجم متساوٍ (1fr) */
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); 
  gap: 15px; /* زيادة التباعد بين العناصر */
}
.checkbox-item {
  display: flex;
  align-items: center;
  gap: 8px;
}
.checkbox-item input[type="checkbox"] {
  width: auto;
  margin: 0;
}

.checkbox-item label {
  margin: 0;
  font-size: 13px;
  cursor: pointer;
}

/* التاريخ */
.date-display {
  text-align: center;
  padding: 15px;
  background-color: var(--secondary-gray);
  border-radius: 6px;
  margin-bottom: 20px;
}

.date-hijri {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-dark);
  margin-bottom: 5px;
}

.date-gregorian {
  font-size: 12px;
  color: var(--text-light);
}

/* الاستجابة للشاشات الصغيرة */
@media (max-width: 768px) {
  .container {
    width: 95%;
    padding: 15px;
  }

  /* **تعديل رأس الصفحة لتحقيق الترتيب المطلوب (الشعار/أيقونات الإجراءات في سطر، والتنقل في سطر آخر)** */
  header .container {
    flex-direction: row;  
    flex-wrap: wrap;  
    justify-content: space-between;  
    align-items: center;
    gap: 15px;  
  }

  /* دفع أيقونات الإجراءات للظهور في السطر الأول بجانب الشعار */
  .header-actions {
      order: 1; 
  }
  
  /* دفع قائمة التنقل للظهور في السطر الثاني وتوسيطه */
  nav {
    /* إلغاء خاصية flex: 1 لمنع استهلاك كل المساحة الأفقية */
    flex: initial;  
    /* دفعه للسطر التالي وأخذ عرض كامل */
    width: 100%;  
    /* **التعديل الجديد: توسيط روابط التنقل** */
    justify-content: center;
    order: 2; 
    gap: 15px;
  }

  .grid {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 15px;
  }

  table {
    font-size: 11px;
  }

  th, td {
    padding: 8px;
  }

  .dropdown-content {
    min-width: 150px;
  }

  .modal-content {
    max-width: 90%;
  }

  .member-info {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .container {
    width: 100%;
    padding: 10px;
  }

  .grid {
    /* تم التغيير إلى 3 أعمدة بدلاً من 2 لتحسين شكل الأيقونات */
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
  }

  /* **تعديل التنقل ليبقى عرضياً (أفقياً) على شاشات الجوال الصغيرة** */
  nav {
    flex-direction: row;  
    flex-wrap: wrap;  
    gap: 10px;  
    width: 100%;  
    /* **التعديل الجديد: توسيط روابط التنقل** */
    justify-content: center;
  }

  /* **تعديل الأزرار لتاخذ عرض محتواها فقط** */
  button, .btn {
    width: auto;
    /* لإظهار الأزرار في المنتصف: */
    /* إذا كانت الأزرار مكدسة (عرض 100%)، فإنها تكون موسّطة تلقائياً */
    /* بما أنها الآن عرض 'auto'، يجب وضعها في حاوية وتوسيطها. 
       هذا الكود لا يمكنه توسيطها مباشرة إلا إذا كانت داخل حاوية Flexbox موسّطة. 
       لنفترض أنك ستضيفها إلى عنصر أب وتطبّق عليه `text-align: center;` في ملف HTML/CSS آخر، 
       أو تطبق على الحاوية الأب `display: flex; justify-content: center;`.
       لا يوجد تغيير مباشر مطلوب هنا للأزرار ما لم تكن في صفوف خاصة.
    */
  }

  .modal-content {
    padding: 20px;
  }
}
